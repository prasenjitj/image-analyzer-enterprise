# Enterprise Image Processing Configuration (Performance Optimized)
# Copy this file to .env and configure your settings

# PostgreSQL Database Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=imageprocessing
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_password_here

# Database URL (used by application)
DATABASE_URL=postgresql://postgres:your_password_here@localhost:5432/imageprocessing

# Enhanced Database Configuration (Performance Optimized)
DATABASE_POOL_SIZE=200              # Increased from default
DATABASE_MAX_OVERFLOW=300           # Higher overflow capacity
DATABASE_POOL_TIMEOUT=30            # Connection timeout
DATABASE_POOL_RECYCLE=1800          # Connection lifecycle

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# Enhanced Redis Configuration (Performance Optimized)
REDIS_MAX_CONNECTIONS=1000          # Support high concurrency
REDIS_SOCKET_TIMEOUT=10             # Optimized timeout

# Gemini AI Configuration - Multiple key names for compatibility
GOOGLE_API_KEY=your_gemini_api_key_here
GEMINI_API_KEYS=your_gemini_api_key_here,key2,key3,key4  # Multiple keys for better performance
GOOGLE_API_KEYS=your_gemini_api_key_here

# Processing Configuration (Performance Optimized)
CHUNK_SIZE=2000                     # Increased from 1000 for efficiency
MAX_CONCURRENT_BATCHES=20           # Increased from 5
MAX_CONCURRENT_WORKERS=100          # Increased from 4
MAX_CONCURRENT_REQUESTS=25          # New: Higher per-worker concurrency
REQUEST_TIMEOUT=30
RETRY_ATTEMPTS=3
REQUESTS_PER_MINUTE=200             # Higher with multiple API keys

# Memory Management (New)
MEMORY_LIMIT_GB=8                   # Memory limit for workers
GC_FREQUENCY=100                    # Garbage collection frequency
ENABLE_MEMORY_MONITORING=true      # Enable memory monitoring

# Application Configuration
SECRET_KEY=your-secret-key-here
MAX_UPLOAD_SIZE=209715200           # 200MB (increased from 100MB)
DEBUG=false

# Directories
UPLOAD_DIR=./uploads
LOG_DIR=./logs
CHECKPOINT_DIR=./checkpoints

# Performance Monitoring (New)
ENABLE_MONITORING=true
MONITORING_PORT=8080
